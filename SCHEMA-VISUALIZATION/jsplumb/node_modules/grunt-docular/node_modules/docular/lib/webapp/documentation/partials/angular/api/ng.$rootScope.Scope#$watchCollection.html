<h1><code ng:non-bindable="">$watchCollection</code>
<span class="hint">( type in module <code ng:non-bindable="">ng</code>
 )</span>
</h1>
<div><h2 id="Description">Description</h2>
<div class="description"><p>Shallow watches the properties of an object and fires whenever any of the properties change
(for arrays this implies watching the array items, for object maps this implies watching the properties).
If a change is detected the  <code class="plain">listener</code>  callback is fired.</p>

<ul>
<li>The  <code class="plain">obj</code>  collection is observed via standard $watch operation and is examined on every call to $digest() to
see if any items have been added, removed, or moved.</li>
<li>The  <code class="plain">listener</code>  is called whenever anything within the  <code class="plain">obj</code>  has changed. Examples include adding new items
into the object or array, removing and moving items around.</li>
</ul>

<h1 id="example">Example</h3>

<pre class="prettyprint linenums">
          $scope.names = ['igor', 'matias', 'misko', 'james'];
          $scope.dataCount = 4;

          $scope.$watchCollection('names', function(newNames, oldNames) {
            $scope.dataCount = newNames.length;
          });

          expect($scope.dataCount).toEqual(4);
          $scope.$digest();

          //still at 4 ... no changes
          expect($scope.dataCount).toEqual(4);

          $scope.names.pop();
          $scope.$digest();

          //now there's been a change
          expect($scope.dataCount).toEqual(3);
</pre></div>
<h2 id="Usage">Usage</h2>
<div class="usage"><pre class="prettyprint linenums">Scope#$watchCollection(obj, listener);</pre>
<h3 id="Parameters">Parameters</h3>
<ul class="parameters"><li><code class="plain">obj – {string|Function(scope)} – </code>
<p>Evaluated as <a href="documentation/angular/guide/expression">expression</a>. The expression value
should evaluate to an object or an array which is observed on each
<a href="documentation/angular/api/ng.$rootScope.Scope#$digest"><code>$digest</code></a> cycle. Any shallow change within the collection will trigger
a call to the  <code class="plain">listener</code> .</p></li>
<li><code class="plain">listener – {function(newCollection, oldCollection, scope)} – </code>
<p>a callback function that is fired with both
the  <code class="plain">newCollection</code>  and  <code class="plain">oldCollection</code>  as parameters.
The  <code class="plain">newCollection</code>  object is the newly modified data obtained from the  <code class="plain">obj</code>  expression and the
 <code class="plain">oldCollection</code>  object is a copy of the former collection data.
The  <code class="plain">scope</code>  refers to the current scope.</p></li>
</ul>
<h3 id="Returns">Returns</h3>
<div class="returns"><code class="plain">{function()}</code>
– <p>Returns a de-registration function for this listener. When the de-registration function is executed
then the internal watch operation is terminated.</p></div>
</div>
</div>
